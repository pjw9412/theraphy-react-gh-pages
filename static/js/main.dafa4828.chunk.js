(this.webpackJsonptheraphy=this.webpackJsonptheraphy||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(12),o=n.n(r),i=(n(71),n(9)),c=n.n(i),s=n(16),u=n(10),d=n(14),h=n(17),m=n(23),f=n.n(m);n(89);function g(e){var t=e.array;return l.a.createElement("tr",null,l.a.createElement("td",null,t.no),l.a.createElement("td",null,t.division),l.a.createElement("td",null,t.item),l.a.createElement("td",null,t.first),l.a.createElement("td",null,t.second),l.a.createElement("td",null,t.third),l.a.createElement("td",null,t.fourth),l.a.createElement("td",null,t.fifth),l.a.createElement("td",null,t.sixth),l.a.createElement("td",null,t.seventh),l.a.createElement("td",null,t.eighth),l.a.createElement("td",null,t.ninth))}function E(e){var t=e.house,n=[{no:0,division:"\uac00",item:"\uac00",first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0},{no:4,division:"\ud06c\uae30",item:"\uc9c0\ub098\uce58\uac8c \ud070 \uc9d1",first:1,second:1,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0},{no:5,division:"\ud06c\uae30",item:"\uc9c0\ub098\uce58\uac8c \uc791\uc740\uc9d1",first:0,second:0,third:1,fourth:0,fifth:1,sixth:1,seventh:0,eighth:1,ninth:1},{no:7,division:"\uc704\uce58",item:"\uc88c\uce21\uc5d0 \uc704\uce58\ud55c \uc9d1",first:0,second:0,third:0,fourth:0,fifth:1,sixth:0,seventh:1,eighth:0,ninth:0},{no:8,division:"\uc704\uce58",item:"\uc6b0\uce21\uc5d0 \uc704\uce58\ud55c \uc9d1",first:1,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0},{no:9,division:"\uc704\uce58",item:"\ud558\ub2e8\uc5d0 \uc704\uce58\ud55c \uc9d1",first:0,second:0,third:1,fourth:0,fifth:1,sixth:1,seventh:0,eighth:1,ninth:0},{no:12,division:"\uc9c0\ubd95",item:"\uacfc\ub3c4\ud558\uac8c \ud070 \uc9c0\ubd95",first:1,second:0,third:0,fourth:0,fifth:0,sixth:1,seventh:1,eighth:0,ninth:1},{no:18,division:"\ud604\uad00\ubb38",item:"\ud604\uad00\ubb38\uc774 \uacfc\ud558\uac8c \ud074 \uacbd\uc6b0",first:0,second:0,third:0,fourth:0,fifth:1,sixth:0,seventh:1,eighth:0,ninth:0},{no:19,division:"\ud604\uad00\ubb38",item:"\ud604\uad00\ubb38\uc774 \uacfc\ud558\uac8c \uc791\uc744 \uacbd\uc6b0",first:0,second:0,third:1,fourth:0,fifth:1,sixth:1,seventh:1,eighth:0,ninth:0},{no:22,division:"\ud604\uad00\ubb38",item:"\ud604\uad00\ubb38\uc758 \uc0dd\ub7b5",first:0,second:1,third:1,fourth:1,fifth:1,sixth:1,seventh:1,eighth:1,ninth:0},{no:23,division:"\ucc3d\ubb38",item:"\ucc3d\ubb38\uc758 \uc0dd\ub7b5",first:0,second:0,third:0,fourth:1,fifth:1,sixth:0,seventh:0,eighth:1,ninth:1},{no:24,division:"\ucc3d\ubb38",item:"3\uac1c \uc774\uc0c1\uc758 \ub9ce\uc740 \ucc3d\ubb38",first:0,second:1,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:1,ninth:0},{no:27,division:"\uad74\ub69d",item:"\uad74\ub69d\uc758 \uc5f0\uae30",first:0,second:0,third:1,fourth:0,fifth:1,sixth:0,seventh:0,eighth:0,ninth:0},{no:31,division:"\uae30\ud0c0",item:"\uc6b8\ud0c0\ub9ac\uc758 \ud45c\ud604",first:0,second:1,third:0,fourth:1,fifth:1,sixth:1,seventh:0,eighth:1,ninth:0}],a=[];t.forEach((function(e){a.push(n.find((function(t){return t.no===e})))}));for(var r=0,o=0,i=0,c=0,s=0,u=0,d=0,h=0,m=0,f=0;f<a.length;f++)r+=parseInt("".concat(a[f].first)),o+=parseInt("".concat(a[f].second)),i+=parseInt("".concat(a[f].third)),c+=parseInt("".concat(a[f].fourth)),s+=parseInt("".concat(a[f].fifth)),u+=parseInt("".concat(a[f].sixth)),d+=parseInt("".concat(a[f].seventh)),h+=parseInt("".concat(a[f].eighth)),m+=parseInt("".concat(a[f].ninth));return l.a.createElement("div",{className:"tableContainer"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\ubc88\ud638"),l.a.createElement("th",null,"\uad6c\ubd84"),l.a.createElement("th",null,"\ud56d\ubaa9"),l.a.createElement("th",null,"\uacf5\uaca9\uc131"),l.a.createElement("th",null,"\uc0ac\ud68c\ubd88\uc548"),l.a.createElement("th",null,"\uc6b0\uc6b8"),l.a.createElement("th",null,"\ub300\uc778\ud68c\ud53c"),l.a.createElement("th",null,"\uc790\uc874\uac10"),l.a.createElement("th",null,"\uc815\uc11c\ubd88\uc548"),l.a.createElement("th",null,"\uc560\uc815\uacb0\ud54d"),l.a.createElement("th",null,"\uc5f4\ub4f1\uac10"),l.a.createElement("th",null,"\ud1f4\ud589"))),l.a.createElement("tbody",null,a?a.map((function(e){return l.a.createElement(g,{array:e,key:e.no})})):l.a.createElement("td",null,"nothing")),l.a.createElement("tfoot",null,a?l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,r),l.a.createElement("td",null,o),l.a.createElement("td",null,i),l.a.createElement("td",null,c),l.a.createElement("td",null,s),l.a.createElement("td",null,u),l.a.createElement("td",null,d),l.a.createElement("td",null,h),l.a.createElement("td",null,m)):l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null)))))}E.defaultProps={house:[0]};var p=E,v=n(34),b=n(59),x=n.n(b),w=n(122),N=(n(121),n(55),n(35)),y=n.n(N),O=n(31);O.a.initialize("UA-148371899-1"),O.a.pageview(window.location.pathname+window.location.search);y.a.setAppElement("#root");var k=n(60),j=n(29),I=n.n(j),P=n(57),B=n.n(P),T=(n(107),n(30));function S(){var e=Object(h.a)(['\n  box-sizing: border-box;\n  position: relative;\n  box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5);\n  background-color: #fff;\n  border-radius: 10px;\n  width: 720px;\n  top: 50%;\n  transform: translateY(-50%);\n  margin: 0 auto;\n  padding: 40px 20px;\n\n  button {\n    background-color: #da77f2;\n    width: 100%;\n    border: 0;\n    padding: 10px 0;\n    margin: 5px 0;\n    text-align: center;\n    color: #fff;\n    font-weight: bold;\n    &:hover {\n      background-color: #4db6ac;\n    }\n  }\n\n  ul {\n    counter-reset: index;\n    padding: 0;\n  }\n  li {\n    counter-increment: index;\n    display: flex;\n    padding: 12px 0;\n    box-sizing: border-box;\n  }\n  li::before {\n    content: counters(index, ".", decimal-leading-zero);\n    font-size: 1.5rem;\n    text-align: center;\n    font-weight: bold;\n    min-width: 50px;\n    font-variant-numeric: tabular-nums;\n    align-self: flex-start;\n    background-color: #ff509f;\n    background-attachment: fixed;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n  }\n']);return S=function(){return e},e}function R(){var e=Object(h.a)(["\n  box-sizing: border-box;\n  display: ",";\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n"]);return R=function(){return e},e}function A(){var e=Object(h.a)(["\n  box-sizing: border-box;\n  display: ",";\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  overflow: auto;\n  outline: 0;\n"]);return A=function(){return e},e}var D=T.a.div(A(),(function(e){return e?"block":"none"})),C=T.a.div(R(),(function(e){return e?"block":"none"})),z=T.a.div(S()),F=function(e){e.children;var t=Object(a.useState)(!0),n=Object(d.a)(t,2),r=n[0],o=n[1];return l.a.createElement(l.a.Fragment,null,r&&l.a.createElement(C,null,l.a.createElement(D,null,l.a.createElement(z,{className:"modal-inner"},l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("h1",null,l.a.createElement("span",null,"HTP \uac80\uc0ac"))),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("div",null,"\ubcf8 \uc11c\ube44\uc2a4\ub294 ",l.a.createElement("strong",null,"HTP(House-Tree-Person)")," \uac80\uc0ac\ub97c \uc2dc\ud589\ud574\ubcfc \uc218 \uc788\ub294 \uc6f9 \ud398\uc774\uc9c0 \uc785\ub2c8\ub2e4.")),l.a.createElement("li",null,l.a.createElement("div",null,"\uc5c5\ub85c\ub4dc\ud55c \ubaa8\ub4e0 \uc0ac\uc9c4\uc740 ",l.a.createElement("strong",null,"\ub525\ub7ec\ub2dd \ubaa8\ub378\uc744 \ud559\uc2b5")," ","\ud558\ub294\ub370 \uc0ac\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),l.a.createElement("li",null,l.a.createElement("div",null,"\ucca8\ubd80\ud30c\uc77c\uc758 \ucd5c\ub300 \uc6a9\ub7c9\uc740 ",l.a.createElement("strong",null,"10MB"),"\ub85c \uc81c\ud55c\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.")),l.a.createElement("li",null,l.a.createElement("div",null,"\ud30c\uc77c \ud655\uc7a5\uc790\ub294 ",l.a.createElement("strong",null,"jpg, png"),"\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.")),l.a.createElement("li",null,l.a.createElement("div",null,"\uae30\ud0c0 \ubb38\uc758\uc0ac\ud56d\uc740"," ",l.a.createElement("a",{href:"mailto:inerplat@gmail.com"},"pjwts9412@gmail.com"),"\uc73c\ub85c \ubb38\uc758 \ubc14\ub78d\ub2c8\ub2e4."))),l.a.createElement("button",{onClick:function(){o(!1)}},"\uc2dc\uc791\ud558\uae30")))))};function M(){var e=Object(h.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return M=function(){return e},e}var H=Object(v.css)(M());function L(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var U=function(){var e=Object(a.useState)({error:!1,fail:!1,predictions:"",loading:!1,fileName:"",hash:"",vote:[],showResult:!1,bannerStatus:!1,reload:!1}),t=Object(d.a)(e,2),n=t[0],r=t[1],o=function(){r(Object(u.a)(Object(u.a)({},n),{},{error:!1,fail:!1,predictions:"",loading:!1,fileName:"",hash:"",vote:[],showResult:!1,bannerStatus:!1,reload:!0,house:void 0}))},i=function(e){r(e),setTimeout((function(){r({bannerStatus:!1,error:!1,fail:!1})}),3e3)},h=function(e){var t=new FileReader;return new Promise((function(n,a){t.onerror=function(){t.abort(),a(new DOMException("Problem parsing input file."))},t.onload=function(){var e=document.getElementById("preview");e.src=t.result,console.log("%conLoad.output = ","color:green",e),console.log(document.getElementById("imageCanvas")),n(t.result)},t.readAsDataURL(e[0])}))},m=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,l,o,d,m,g,E,p,v,b,x,w,N,y,O,k,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UPLOAD.js -> onDrop -> event = ",t),r(Object(u.a)(Object(u.a)({},n),{},{predictions:"",loading:!0,fileName:"",hash:"",vote:[],showResult:!1})),a=t,e.next=5,h(a);case 5:if(e.sent,l=document.getElementById("imageCanvas"),(o=l.getContext("2d")).clearRect(0,0,l.width,l.height),!(a.length>0)){e.next=24;break}return(d=new FormData).append("image",a[0],a[0].name),console.log("FORMDATA === ",d),m=(new Date).getTime(),g=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("ASYNC"),console.log(d),e.next=5,f.a.post("https://theraphy-nodejs-heroku2.herokuapp.com/",d);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),e.next=17,g();case 17:if(E=e.sent,p=(new Date).getTime()-m,console.log("%c\uc18c\uc694\ub41c \uc2dc\uac04 == ","color:green",p),console.log("AWAIT"),console.log("response = ",E),console.log("response.data = ",E.data),E)if(v=document.getElementById("preview"),l.width=v.width,l.height=v.height,o.drawImage(v,0,0,v.width,v.height),!1!==E.data.success){if(!0===E.data[0][0].success)for(b=0;b<E.data.length;b++)console.log(E.data[b][0]),I=E.data[b][0].label,x={house:"\uc9d1",window:"\ucc3d\ubb38",door:"\ud604\uad00\ubb38",roof:"\uc9c0\ubd95","triangle roof":"\ubfb0\uc871\ud55c \uc9c0\ubd95",fense:"\uc6b8\ud0c0\ub9ac","smoking chimney":"\uc5f0\uae30\ub098\ub294 \uad74\ub69d"}[I],w=E.data[b][0].coordinate,N=w.x,y=w.y,O=w.width,k=w.height,j=L(),console.log(E.data[0][0].house),o.beginPath(),o.lineWidth="3",o.font="bold 40px sans-serif",o.fillStyle=j,o.strokeStyle=j,o.fillText(x+" "+E.data[b][0].score.toFixed(3),N,y+40),o.rect(N,y,O,k),o.stroke(),r(0===b?Object(u.a)(Object(u.a)({},n),{},{predictions:x,loading:!1,fileName:E.data[0][0].path,hash:E.data[0][0].hash,vote:[E.data[0].voteChaewon,E.data[0].voteYuri,E.data[0].voteYena],showResult:!0,house:E.data[0][0].house}):Object(u.a)(Object(u.a)({},n),{},{predictions:x,loading:!1,showResult:!0,house:E.data[0][0].house})),console.log("%cSTATE(ONDROP) == ","color:blue",n)}else console.log("IN2"),o.drawImage(v,0,0,v.width,v.height),r(Object(u.a)(Object(u.a)({},n),{},{predictions:"fail to find",loading:!1,fileName:E.data.path,hash:E.data.hash})),i({fail:!0});else console.log("IN1"),i({error:!0});case 24:case"end":return e.stop()}var I}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){window.addEventListener("paste",(function(e){o();var t=(e.clipboardData||e.originalEvent.clipboardData).items;console.log(JSON.stringify(t));for(var n=null,a=0;a<t.length;a++)0===t[a].type.indexOf("image")&&(n=t[a].getAsFile());null!==n&&(console.log(n),m([n]))}))})),l.a.createElement("div",{className:"back"},l.a.createElement(I.a,{className:"banner",title:"\uc751\ub2f5\uc774 \uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",showBanner:n.bannerStatus}),l.a.createElement(I.a,{css:{backgroundColor:"red",color:"white"},className:"banner",title:"\uc798\ubabb\ub41c \ud30c\uc77c\uc774\uac70\ub098, \uc11c\ubc84\uac00 \uc751\ub2f5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",showBanner:n.error}),l.a.createElement(I.a,{css:{backgroundColor:"yellow"},className:"banner",title:"\uc5bc\uad74\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",showBanner:n.fail}),l.a.createElement("div",{className:"bodyDiv"},l.a.createElement(F,null),l.a.createElement("img",{className:"preview",id:"preview",alt:"\ud504\ub9ac\ubdf0"}),l.a.createElement("div",{className:"upload"},l.a.createElement(w.a,{className:"iconButton",onClick:o,size:"small"},l.a.createElement(x.a,{className:"refresh",fontSize:"large"})),l.a.createElement("div",{className:"upload-files"},l.a.createElement("header",null,l.a.createElement("p",null,l.a.createElement("span",{className:"up"},"HTP"),l.a.createElement("span",{className:"load"},"\uac80\uc0ac"))),l.a.createElement("div",{className:"body"},n.loading||n.showResult?l.a.createElement("div",{className:"imageBox"},l.a.createElement("div",{className:"imageTable"},l.a.createElement("canvas",{className:"imageCanvas",id:"imageCanvas"},"\uc774 \ube0c\ub77c\uc6b0\uc800\ub294 'canvas'\uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),n.showResult?l.a.createElement(l.a.Fragment,null):null,l.a.createElement("div",{className:"loadingBox"},l.a.createElement(B.a,{css:H,size:25,color:"#FF509F",loading:n.loading})))):l.a.createElement("div",{className:"uploadBox"},l.a.createElement(k.a,{multiple:!1,onDrop:function(e){return m(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return l.a.createElement("section",{className:"dropSection"},l.a.createElement("div",Object.assign({className:"dropBox"},t()),l.a.createElement("input",Object.assign({className:"dropzone"},a({type:"file",accept:"image/*"}))),l.a.createElement("div",{className:"dropText"},l.a.createElement("p",{className:n.reload?"nomalP":"fadeP"},"\uc5c5\ub85c\ub4dc\ud560 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8\ud558\uac70\ub098"),l.a.createElement("p",{className:n.reload?"nomalP":"fadeP"},"\ubc15\uc2a4\ub97c"," ",l.a.createElement("span",{style:{color:"lightBlue"}}," ","\ud074\ub9ad"),"\ud574\uc8fc\uc138\uc694"),l.a.createElement("br",null),l.a.createElement("p",{className:n.reload?"nomalP":"fadeP"},l.a.createElement("span",{style:{color:"lightBlue"}},"Ctrl+V"),"\ub85c \ud074\ub9bd\ubcf4\ub4dc\uc5d0 \uc788\ub294 \uc774\ubbf8\uc9c0\ub97c"),l.a.createElement("p",{className:n.reload?"nomalP":"fadeP"},"\ubd99\uc5ec \ub123\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."))))})))))),console.log("STATE.HOUSE =",n.house),console.log("%cSTATE(RENDER) == ","color:red",n),n.loading||n.showResult||n.house?l.a.createElement(p,{house:n.house}):null))};var W=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,n){e.exports=n(108)},71:function(e,t,n){},89:function(e,t,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.dafa4828.chunk.js.map